package com.swiggy;

import java.util.InputMismatchException;
import java.util.Scanner;

public class MagicalGameRunner 
{
//    public static void main( String[] args )
//    {
//        Player player1 = new Player("Jack", 70, 5, 10);
//        Player player2 = new Player("Akash", 25, 10, 5);
//        
//        Arena arena = new Arena(player1, player2);
//        arena.startMatch();
//    }
    
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);

        System.out.println("Enter details for Player 1:");
        Player player1 = createPlayer(scanner);

        System.out.println("\nEnter details for Player 2:");
        Player player2 = createPlayer(scanner);

        Arena arena = new Arena(player1, player2);
        arena.startMatch();

        scanner.close();
    }
    
    private static Player createPlayer(Scanner scanner) {
        System.out.print("Enter player name: ");
        String name = scanner.nextLine().trim(); // Trim to remove leading/trailing white spaces

        // Validate that the name is not empty
        while (name.isEmpty()) {
            System.out.println("Name cannot be empty. Please enter a valid name.");
            System.out.print("Enter player name: ");
            name = scanner.nextLine().trim();
        }

        System.out.print("Enter player health: ");
        int health = 0;
        while(true) {
        	
        	try {
        		health = scanner.nextInt();
        		break;
        	} catch (InputMismatchException e) {
        		// TODO: handle exception
        		System.out.println("Please enter a valid integer number");
        	}
        }

        // Validate that health is a positive integer
        while (health <= 0) {
            System.out.println("Health must be a positive integer. Please enter a valid health value.");
            System.out.print("Enter player health: ");
            health = scanner.nextInt();
        }

        System.out.print("Enter player strength: ");
        int strength = scanner.nextInt();

        // Validate that strength is a positive integer
        while (strength <= 0) {
            System.out.println("Strength must be a positive integer. Please enter a valid strength value.");
            System.out.print("Enter player strength: ");
            strength = scanner.nextInt();
        }

        System.out.print("Enter player attack: ");
        int attack = scanner.nextInt();

        // Validate that attack is a positive integer
        while (attack <= 0) {
            System.out.println("Attack must be a positive integer. Please enter a valid attack value.");
            System.out.print("Enter player attack: ");
            attack = scanner.nextInt();
        }

        return new Player(name, health, strength, attack);
    }
}
